<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <div class="tudo">
        <div class="container">
            <div>
                <div class="score">
                    <div class="box">
                        <div class="jogador">Jogador 1 </div>
                        <div class="jogador">Jogador 2</div>
                    </div>
                    <div class="box">
                        <div class="textoJogador">Pontuação</div>
                        <div class="textoJogador">Pontuação </div>
                    </div>
                </div>
                <div id="div_jogo"></div>
            </div>
            <div class="profile">
                Timer:
                <p id="timer"><button onclick="temporizador()">Começar</button></p>
                <p id="timerAper"><span id="tempoMin">Você tem 1 minuto</span></p>
                <div class="link" id="link">
                    <img src="../imgs/linkNormal.png" alt="">
                </div>
                <div class="aconteceu">
                    <p id="aconteceu_texto">AAA</p>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    function gerar() {
        let indice = 0
        jogo = document.getElementById("div_jogo")
        for (let x = 0; x < 10; x++) {
            for (let y = 0; y < 10; y++) {
                jogo.innerHTML += `<div class="espaco" id="${indice}" onclick="verificar(id)"></div>`;
                indice++
            }
        }
    }

    const itensR = ["assets/imgs/inimigo.png"]
    const itensB = ["assets/imgs/cogumelo.png"]

    function verificar(id) {
        div = document.getElementById(id)
        divStatus = div.dataset.status
        console.log(divStatus)
        let numero = Math.floor(Math.random() * itensR.length)
        let numero2 = Math.floor(Math.random() * itensB.length)
        if (divStatus == 0) {
            div.innerHTML = `<img src="${itensR[numero]}"></img>`
            aconteceu_texto.innerText = "Link sofreu um evento inesperado"
            link.innerHTML = `<img src="../imgs/linkDmg.png"></img>`
        } else if (divStatus == 1) {
            div.innerHTML = `<img src="${itensB[numero2]}"></img>`
            aconteceu_texto.innerText = "Link sofreu um evento inesperado"
            link.innerHTML = `<img src="../imgs/linkBom.png"></img>`
        } else {
            aconteceu_texto.innerText = "Nada aconteceu"
            link.innerHTML = `<img src="../imgs/linkNormal.png"></img>`
        }
    }
    gerar()

    let timeout;
    function temporizador() {

        timeout = setTimeout(alertFunc, 60000)
        document.getElementById("timer").style.display = "none"
        document.getElementById("timerAper").style.display = "flex"
    }

    function alertFunc() {
        alert("Seu tempo acabou!")
    }

</script>

</html>